# SBOM Play Web GUI Upgrade Plan

## Overview
Transform the existing command-line SBOM analysis utility into a web-based GUI application that allows users to analyze GitHub organizations' dependencies through a browser interface.

## Current State Analysis
- `sbom-play.py`: Command-line tool that fetches SBOMs from GitHub orgs and stores in SQLite
- `generate_top_dependency_report.py`: Generates HTML reports of common dependencies
- Both tools work with `sbom_data.db` SQLite database

## Requirements from Upgrade-webgui.md
1. Web GUI that references SBOM specs
2. Allow users to provide GitHub org URL
3. Identify number of projects on GitHub
4. Fetch SBOMs for as many projects as possible
5. Store data in SQLite database
6. Run queries to extract top dependencies
7. Display results in web interface

## Technical Architecture Plan

### Phase 1: Web Framework Setup
1. **Choose Web Framework**: Flask (Python-based, lightweight, easy to integrate with existing code)
2. **Project Structure**:
   ```
   sbomplay/
   ├── app.py                 # Main Flask application
   ├── templates/             # HTML templates
   │   ├── index.html        # Main dashboard
   │   ├── results.html      # Analysis results
   │   └── base.html         # Base template
   ├── static/               # CSS, JS, images
   │   ├── css/
   │   └── js/
   ├── utils/                # Utility modules
   │   ├── github_client.py  # GitHub API wrapper
   │   ├── sbom_processor.py # SBOM processing logic
   │   └── database.py       # Database operations
   ├── requirements.txt      # Python dependencies
   └── existing files...
   ```

### Phase 2: Core Functionality Implementation
1. **GitHub API Integration**:
   - Extract GitHub API logic from `sbom-play.py`
   - Create reusable `github_client.py` module
   - Add error handling and rate limiting

2. **Database Layer**:
   - Create `database.py` for all database operations
   - Migrate existing SQLite schema
   - Add connection pooling and error handling

3. **SBOM Processing**:
   - Extract SBOM processing logic from existing scripts
   - Create `sbom_processor.py` module
   - Add validation and error handling

### Phase 3: Web Interface Development
1. **Main Dashboard (`/`)**:
   - Form to input GitHub organization URL
   - Display current database stats
   - Show recent analysis history

2. **Analysis Page (`/analyze`)**:
   - Progress indicators for each step
   - Real-time status updates
   - Error handling and user feedback

3. **Results Page (`/results`)**:
   - Interactive dependency charts
   - Filterable dependency tables
   - Export functionality (CSV, JSON)

### Phase 4: Advanced Features
1. **Real-time Updates**:
   - WebSocket integration for live progress updates
   - Background task processing with Celery/Redis

2. **Enhanced Analytics**:
   - Dependency visualization with charts
   - Security vulnerability analysis
   - License compliance checking

3. **User Experience**:
   - Responsive design (mobile-friendly)
   - Dark/light theme toggle
   - Accessibility improvements

## Implementation Steps

### Step 1: Setup Web Framework
- Install Flask and dependencies
- Create basic project structure
- Set up routing and templates

### Step 2: Migrate Existing Code
- Extract GitHub API logic from `sbom-play.py`
- Extract database operations
- Extract SBOM processing logic
- Create modular, reusable components

### Step 3: Create Web Interface
- Design and implement main dashboard
- Create analysis workflow pages
- Implement results visualization

### Step 4: Add Advanced Features
- Real-time progress updates
- Enhanced analytics and charts
- Export functionality

### Step 5: Testing and Deployment
- Unit and integration testing
- Performance optimization
- Deployment configuration

## Dependencies
- Flask (web framework)
- requests (HTTP client)
- sqlite3 (database)
- json (data processing)
- os (file operations)
- Optional: celery (background tasks), redis (caching)

## Success Criteria
1. Users can input GitHub org URL via web interface
2. System fetches and stores SBOMs automatically
3. Users can view dependency analysis results
4. Interface is responsive and user-friendly
5. All existing functionality is preserved and enhanced

## Timeline Estimate
- Phase 1: 1-2 days
- Phase 2: 2-3 days  
- Phase 3: 3-4 days
- Phase 4: 2-3 days
- Phase 5: 1-2 days
- **Total: 9-14 days** 